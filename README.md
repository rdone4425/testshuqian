# ä¹¦ç­¾å¯¼èˆªç½‘ç«™

ä¸€ä¸ªåŸºäº Cloudflare Pages + D1 æ•°æ®åº“çš„ä¹¦ç­¾å¯¼èˆªç½‘ç«™ï¼Œç±»ä¼¼ hao123 çš„ä¸ªäººä¹¦ç­¾ç®¡ç†ç³»ç»Ÿã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **æ™ºèƒ½å®‰è£…ç³»ç»Ÿ** - è‡ªåŠ¨æ£€æµ‹ D1 ç»‘å®šï¼Œä¸€é”®åˆ›å»ºæ•°æ®åº“è¡¨æ ¼
- ğŸ” **å®‰å…¨è®¤è¯** - å¯†ç åŠ å¯†å­˜å‚¨ï¼ŒJWT Token è®¤è¯
- ğŸ“š **ä¹¦ç­¾ç®¡ç†** - åˆ†ç±»ç®¡ç†ï¼Œæ‹–æ‹½æ’åºï¼Œå›¾æ ‡æ”¯æŒ
- ğŸ¨ **å“åº”å¼è®¾è®¡** - é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- â˜ï¸ **æ— æœåŠ¡å™¨éƒ¨ç½²** - åŸºäº Cloudflare Pages + D1ï¼Œé›¶è¿ç»´æˆæœ¬

## æŠ€æœ¯æ¶æ„

- **å‰ç«¯**: HTML + CSS + JavaScript (åŸç”Ÿï¼Œæ— æ¡†æ¶ä¾èµ–)
- **åç«¯**: Cloudflare Pages Functions
- **æ•°æ®åº“**: Cloudflare D1 (SQLite)
- **è®¤è¯**: JWT Token
- **éƒ¨ç½²**: Cloudflare Pages

## å®‰è£…éƒ¨ç½²

### 1. å‡†å¤‡å·¥ä½œ

1. æ³¨å†Œ Cloudflare è´¦å·
2. åˆ›å»º D1 æ•°æ®åº“
3. Fork æˆ–ä¸‹è½½æœ¬é¡¹ç›®

### 2. éƒ¨ç½²åˆ° Cloudflare Pages

1. åœ¨ Cloudflare Dashboard ä¸­åˆ›å»º Pages é¡¹ç›®
2. è¿æ¥ä½ çš„ Git ä»“åº“
3. è®¾ç½®æ„å»ºé…ç½®ï¼š
   - æ„å»ºå‘½ä»¤: ç•™ç©º
   - æ„å»ºè¾“å‡ºç›®å½•: `website`
   - æ ¹ç›®å½•: `/`

### 3. ç»‘å®š D1 æ•°æ®åº“

1. åœ¨ Pages é¡¹ç›®è®¾ç½®ä¸­æ‰¾åˆ° "Functions" é€‰é¡¹å¡
2. åœ¨ "D1 database bindings" ä¸­æ·»åŠ ç»‘å®šï¼š
   - å˜é‡å: `DB`
   - D1 æ•°æ®åº“: é€‰æ‹©ä½ åˆ›å»ºçš„æ•°æ®åº“

### 4. å®Œæˆå®‰è£…

1. è®¿é—®ä½ çš„ Pages åŸŸå
2. ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å¹¶è·³è½¬åˆ°å®‰è£…é¡µé¢
3. æŒ‰ç…§å¼•å¯¼å®Œæˆæ•°æ®åº“åˆå§‹åŒ–å’Œç®¡ç†å‘˜è´¦å·è®¾ç½®

## æ–‡ä»¶ç»“æ„

```
website/
â”œâ”€â”€ index.html              # å…¥å£é¡µé¢ (è‡ªåŠ¨æ£€æµ‹ç³»ç»ŸçŠ¶æ€)
â”œâ”€â”€ setup.html              # å®‰è£…é¡µé¢
â”œâ”€â”€ login.html              # ç™»å½•é¡µé¢
â”œâ”€â”€ _routes.json            # Cloudflare Pages è·¯ç”±é…ç½®
â”œâ”€â”€ css/                    # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ setup.css          # å®‰è£…é¡µé¢æ ·å¼
â”‚   â””â”€â”€ login.css          # ç™»å½•é¡µé¢æ ·å¼
â”œâ”€â”€ js/                     # å‰ç«¯è„šæœ¬
â”‚   â”œâ”€â”€ setup.js           # å®‰è£…é€»è¾‘
â”‚   â”œâ”€â”€ login.js           # ç™»å½•é€»è¾‘
â”‚   â””â”€â”€ utils/             # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ api.js         # API è°ƒç”¨å·¥å…·
â”‚       â”œâ”€â”€ auth.js        # è®¤è¯å·¥å…·
â”‚       â””â”€â”€ ui.js          # UI å·¥å…·
â””â”€â”€ functions/              # Cloudflare Pages Functions
    â””â”€â”€ api/
        â”œâ”€â”€ setup/          # å®‰è£…ç›¸å…³ API
        â”‚   â”œâ”€â”€ check-database.js
        â”‚   â”œâ”€â”€ create-table.js
        â”‚   â””â”€â”€ create-admin.js
        â””â”€â”€ auth/           # è®¤è¯ç›¸å…³ API
            â”œâ”€â”€ check-admin.js
            â””â”€â”€ login.js
```

## æ•°æ®åº“ç»“æ„

### users (ç”¨æˆ·è¡¨)
- `id` - ä¸»é”®
- `username` - ç”¨æˆ·å (å”¯ä¸€)
- `password` - å¯†ç  (SHA-256 åŠ å¯†)
- `email` - é‚®ç®± (å¯é€‰)
- `role` - è§’è‰² (admin/user)
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

### categories (åˆ†ç±»è¡¨)
- `id` - ä¸»é”®
- `name` - åˆ†ç±»åç§°
- `description` - åˆ†ç±»æè¿°
- `icon` - åˆ†ç±»å›¾æ ‡
- `sort_order` - æ’åº
- `created_at` - åˆ›å»ºæ—¶é—´

### bookmarks (ä¹¦ç­¾è¡¨)
- `id` - ä¸»é”®
- `title` - ä¹¦ç­¾æ ‡é¢˜
- `url` - ä¹¦ç­¾é“¾æ¥
- `description` - ä¹¦ç­¾æè¿°
- `icon` - ä¹¦ç­¾å›¾æ ‡
- `category_id` - æ‰€å±åˆ†ç±»
- `sort_order` - æ’åº
- `is_featured` - æ˜¯å¦æ¨è
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

## å®‰è£…æµç¨‹

1. **æ£€æµ‹æ•°æ®åº“ç»‘å®š** - éªŒè¯ D1 æ•°æ®åº“æ˜¯å¦æ­£ç¡®ç»‘å®š
2. **åˆ›å»ºæ•°æ®åº“è¡¨æ ¼** - è‡ªåŠ¨æ‰§è¡Œ SQL åˆ›å»ºå¿…è¦çš„è¡¨æ ¼
3. **è®¾ç½®ç®¡ç†å‘˜è´¦å·** - åˆ›å»ºç¬¬ä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·
4. **å®Œæˆå®‰è£…** - è·³è½¬åˆ°ç™»å½•é¡µé¢

## å®‰å…¨ç‰¹æ€§

- å¯†ç ä½¿ç”¨ SHA-256 åŠ å¯†å­˜å‚¨
- JWT Token è®¤è¯ï¼Œæ”¯æŒè¿‡æœŸæ—¶é—´è®¾ç½®
- SQL æ³¨å…¥é˜²æŠ¤
- XSS é˜²æŠ¤
- CSRF é˜²æŠ¤

## å¼€å‘è®¡åˆ’

- [ ] ä¹¦ç­¾ç®¡ç†ç•Œé¢
- [ ] åˆ†ç±»ç®¡ç†åŠŸèƒ½
- [ ] æ‹–æ‹½æ’åº
- [ ] å›¾æ ‡ä¸Šä¼ 
- [ ] æ•°æ®å¯¼å…¥/å¯¼å‡º
- [ ] ä¸»é¢˜åˆ‡æ¢
- [ ] æœç´¢åŠŸèƒ½
- [ ] ç»Ÿè®¡åˆ†æ

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
